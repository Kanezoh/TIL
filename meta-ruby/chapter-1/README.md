# １章　頭文字M

## 1.1 ゴーストタウンと市場

CやJavaのような言語ではコンパイルすると変数やメソッド、クラスは実態を失う、つまりメモリに配置されているだけになる。つまり、
実行時にはゴーストタウンのように静かだ。  
対してRubyでは実行時でも言語要素に質問することができる、これは賑やかな市場のようだ。  
これをイントロスペクションという。  

## 1.2 Active Record

Active Record はイントロスペクションが行われている典型例だ。  
~~~
class Movie < ActiveRecord::Base
end
~~~

例えばこんなクラスを作る。するとActiveRecordはデータベースからクラス名を複数形にしたテーブル名(ここではmovies)を探し、
そのスキーマから名前を取得してクラスのアトリビュートとして定義する。例えばtitleのカラムがあれば  
~~~ 
movie = Movie.create
movie.title = 'Avatar'
movie.title => Avatar
~~~

のように使うことができる。つまり、プログラムの実行中にActiveRecordがメソッドを定義している。このようにイントロスペクションではメソッドを読み込むことも書き込むこともできる。  

### メタプログラミングとは、言語要素を実行時に操作するコードを記述することである。  

ActiveRecord::Baseを継承するだけで、実行時にアクセサメソッドが定義されるようなコードを書いた。これが「コードを記述するコードを書く」ということである。  

## 1.3 メタプログラミングとRuby

Rubyはその言語要素のほとんどが実行時に使用可能なのでメタプログラミングに最も適した言語である。
Rubyにおいてはメタプログラミングと通常のプログラミングを切り離すことはできず、日常的なことである。
